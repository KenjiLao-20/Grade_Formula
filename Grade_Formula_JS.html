<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade Calculator</title>
    <style>
        body {
            background: linear-gradient(to right, #4682B4, #DDA0DD);
            color: white;
            font-family: Arial, sans-serif;
        }
        .container {
            display: flex;
            justify-content: space-between;
            width: 800px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #FFFFFF;
            border-radius: 10px;
            background-color: #3C3F41;
        }
        .section {
            width: 45%;
            padding: 10px;
            border: 1px solid #FFFFFF;
            border-radius: 10px;
            background-color: #4C4F51;
        }
        .input-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        label {
            margin-right: 5px;
            width: 50%;
            margin-bottom: 2px;
        }
        input[type="number"] {
            width: 100px;
            padding: 10px;
            margin: 0;
            border: 1px solid #FFFFFF;
            border-radius: 5px;
            background-color: #4C4F51;
            color: white;
        }
        button {
            background-color: #4682B4;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 150px;
            margin-top: 20px;
        }
        button:hover {
            background-color: #5A9BD4;
        }
        #result {
            display: none;
            margin-top: 20px;
            border: 1px solid #FFFFFF;
            padding: 10px;
            background-color: #4C4F51;
            width: 100%;
        }
        #error {
            color: red;
            margin-left: 10px;
            display: none; /* Initially hidden */
        }
        .absences-panel {
            margin-top: 10px;
            background-color: #4C4F51;
            padding: 10px;
            border-radius: 5px;
        }
        .absence-date {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        .absence-date input {
            margin-right: 10px;
        }
    </style>
</head>
<body>

<center><h1>Grade Calculator</h1></center>
<div class="container">
    <div class="section">
        <center><h2>Lecture Grades</h2></center>
        <div class="input-group">
            <label for="prelimExamLecture">Prelim Exam:</label>
            <input type="number" id="prelimExamLecture" required placeholder="0-100" max="100" min="0">
        </div>
        <div class="input-group">
            <label for="essay">Essay Score:</label>
            <input type="number" id="essay" required placeholder="0-100" max="100" min="0">
        </div>
        <div class="input-group">
            <label for="pvm">PVM Score:</label>
            <input type="number" id="pvm" required placeholder="0-60" max="60" min="0">
        </div>
        <div class="input-group">
            <label for="javaBasics">Java Basics Score:</label>
            <input type="number" id="javaBasics" required placeholder="0-40" max="40" min="0">
        </div>
        <div class="input-group">
            <label for="introToJS">Intro to JS Score:</label>
            <input type="number" id="introToJS" required placeholder="0-40" max="40" min="0">
        </div>
        
        <div class="absences-panel">
            <h3>Lecture Absences</h3>
            <div class="absence-date">
                <input type="checkbox" id="lectureAbsence1">
                <label for="lectureAbsence1">January 23, 2025</label>
            </div>
            <div class="absence-date">
                <input type="checkbox" id="lectureAbsence2">
                <label for="lectureAbsence2">January 30, 2025</label>
            </div>
            <div class="absence-date">
                <input type="checkbox" id="lectureAbsence3">
                <label for="lectureAbsence3">February 06, 2025</label>
            </div>
            <div class="absence-date">
                <input type="checkbox" id="lectureAbsence4">
                <label for="lectureAbsence4">February 13, 2025</label>
            </div>
            <div class="absence-date">
                <input type="checkbox" id="lectureAbsence5">
                <label for="lectureAbsence5">February 20, 2025</label>
            </div>
        </div>
        <center><button onclick="calculateLectureGrades()">Calculate Grade</button></center>
        <br>
        <h3 id="lectureResult"></h3>
        <div id="lectureFormula" style="margin-top: 10px;"></div>
    </div>

    <div class="section">
        <center><h2>Laboratory Grades</h2></center>
        <div class="input-group">
            <label for="java1">Java 1 Score:</label>
            <input type="number" id="java1" required placeholder="0-100" max="100" min="0">
        </div>
        <div class="input-group">
            <label for="java2">Java 2 Score:</label>
            <input type="number" id="java2" required placeholder="0-100" max="100" min="0">
        </div>
        <div class="input-group">
            <label for="js1">JS 1 Score:</label>
            <input type="number" id="js1" required placeholder="0-100" max="100" min="0">
        </div>
        <div class="input-group">
            <label for="js2">JS 2 Score:</label>
            <input type="number" id="js2" required placeholder="0-100" max="100" min="0">
        </div>
        <div class="input-group">
            <label for="mp1">MP1 Score:</label>
            <input type="number" id="mp1" required placeholder="0-100" max="100" min="0">
        </div>
        <div class="input-group">
            <label for="mp2">MP2 Score:</label>
            <input type="number" id="mp2" required placeholder="0-100" max="100" min="0">
        </div>
        <div class="input-group">
            <label for="mp3">MP3 Score:</label>
            <input type="number" id="mp3" required placeholder="0-100" max="100" min="0">
        </div>
        <div class="input-group">
            <label for="mp3Docu">MP3 (Docu) Score:</label>
            <input type="number" id="mp3Docu" required placeholder="0-100" max="100" min="0">
        </div>

        <div class="absences-panel">
            <h3>Lab Absences</h3>
            <div class="absence-date">
                <input type="checkbox" id="labAbsence1">
                <label for="labAbsence1">January 21, 2025</label>
            </div>
            <div class="absence-date">
                <input type="checkbox" id="labAbsence2">
                <label for="labAbsence2">January 28, 2025</label>
            </div>
            <div class="absence-date">
                <input type="checkbox" id="labAbsence3">
                <label for="labAbsence3">February 04, 2025</label>
            </div>
            <div class="absence-date">
                <input type="checkbox" id="labAbsence4">
                <label for="labAbsence4">February 11, 2025</label>
            </div>
            <div class="absence-date">
                <input type="checkbox" id="labAbsence5">
                <label for="labAbsence5">February 18, 2025</label>
            </div>
        </div>
        <center><button onclick="calculateLabGrades()">Calculate Grade</button></center>
        <br>
        <h3 id="labResult"></h3>
        <div id="labFormula" style="margin-top: 10px;"></div>
    </div>
</div>

<script>
    function calculateLectureGrades() {
        const prelimExamLecture = parseFloat(document.getElementById('prelimExamLecture').value) || 0;
        const essay = parseFloat(document.getElementById('essay').value) || 0;
        const pvm = parseFloat(document.getElementById('pvm').value) || 0;
        const javaBasics = parseFloat(document.getElementById('javaBasics').value) || 0;
        const introToJS = parseFloat(document.getElementById('introToJS').value) || 0;

        const lectureAbsencesCount = getAbsencesCount('lecture');

        // Check for absences
        if (lectureAbsencesCount >= 4) {
            document.getElementById('lectureResult').innerHTML = "Lecture Prelim Grade: FAIL - Instant fail due to excessive absences.";
            document.getElementById('lectureFormula').innerHTML = "";
            return;
        }

        // Validate inputs
        if ([prelimExamLecture, essay, pvm, javaBasics, introToJS].some(score => score > 100)) {
            alert("You can only put a number of 100 or lower.");
            return;
        }

        // Calculate prelim quizzes
        const prelimQuizzes = (essay + pvm + javaBasics + introToJS) / 4;
        const attendancePenalty = lectureAbsencesCount * 10;
        const attendance = Math.max(100 - attendancePenalty, 0);
        const prelimClassStanding = (prelimQuizzes * 0.6) + (attendance * 0.4);
        const lecturePrelimGrade = (prelimExamLecture * 0.6) + (prelimClassStanding * 0.4);

        // Display Results
        document.getElementById('lectureResult').innerHTML = "Lecture Prelim Grade: " + lecturePrelimGrade.toFixed(2);
        document.getElementById('lectureFormula').innerHTML = 
            `Lecture Prelim Grade = (0.6 * Prelim Exam) + (0.4 * Prelim Class Standing)<br>
            Prelim Class Standing = (0.6 * Prelim Quizzes) + (0.4 * Attendance)<br>
            Prelim Quizzes = (Essay + PVM + Java Basics + Intro to JS) / 4<br>
            Attendance = 100 - (10 * Lecture Absences)`;
    }

    function calculateLabGrades() {
        const java1 = parseFloat(document.getElementById('java1').value) || 0;
        const java2 = parseFloat(document.getElementById('java2').value) || 0;
        const js1 = parseFloat(document.getElementById('js1').value) || 0;
        const js2 = parseFloat(document.getElementById('js2').value) || 0;
        const mp1 = parseFloat(document.getElementById('mp1').value) || 0;
        const mp2 = parseFloat(document.getElementById('mp2').value) || 0;
        const mp3 = parseFloat(document.getElementById('mp3').value) || 0;
        const mp3Docu = parseFloat(document.getElementById('mp3Docu').value) || 0;

        const labAbsencesCount = getAbsencesCount('lab');

        // Check for absences
        if (labAbsencesCount >= 4) {
            document.getElementById('labResult').innerHTML = "Laboratory Prelim Grade: FAIL - Instant fail due to excessive absences.";
            document.getElementById('labFormula').innerHTML = "";
            return;
        }

        // Validate inputs
        if ([java1, java2, js1, js2, mp1, mp2, mp3, mp3Docu].some(score => score > 100)) {
            alert("You can only put a number of 100 or lower.");
            return;
        }

        // Calculate prelim exam
        const prelimExamLab = (java1 * 0.2) + (java2 * 0.3) + (js1 * 0.2) + (js2 * 0.3);
        const labWork = (mp1 + mp2 + mp3 + mp3Docu) / 4;
        const attendancePenalty = labAbsencesCount * 10;
        const attendance = Math.max(100 - attendancePenalty, 0);
        const prelimClassStandingLab = (labWork * 0.6) + (attendance * 0.4);
        const labPrelimGrade = (prelimExamLab * 0.6) + (prelimClassStandingLab * 0.4);

        // Display Results
        document.getElementById('labResult').innerHTML = "Laboratory Prelim Grade: " + labPrelimGrade.toFixed(2);
        document.getElementById('labFormula').innerHTML = 
            `Laboratory Prelim Grade = (0.6 * Prelim Exam Lab) + (0.4 * Prelim Class Standing Lab)<br>
            Prelim Exam Lab = (Java 1 * 0.20) + (Java 2 * 0.30) + (JS 1 * 0.20) + (JS 2 * 0.30)<br>
            Prelim Class Standing Lab = (0.6 * Lab Work) + (0.4 * Attendance)<br>
            Lab Work = (MP1 + MP2 + MP3 + MP3 (Docu)) / 4<br>
            Attendance = 100 - (10 * Lab Absences)`;
    }

    function getAbsencesCount(type) {
        let count = 0;
        const prefix = type === 'lecture' ? 'lectureAbsence' : 'labAbsence';
        for (let i = 1; i <= 5; i++) {
            const checkbox = document.getElementById(`${prefix}${i}`);
            if (checkbox.checked) {
                count++;
            }
        }
        return count;
    }
</script>
</body>
</html>
